# Usability Test Plan — v0.13.0-beta.6

**Version:** 0.13.0-beta.6
**Date:** 2026-02-18
**Scope:** Acceptance criteria for redesigned Helm flows

---

## 1. Core Scenarios

### 1.1 First Launch

| Step | Expected Outcome |
|------|------------------|
| Launch Helm for the first time | Onboarding wizard appears (detection, configure, complete) |
| Complete onboarding | Popover walkthrough starts automatically |
| Complete popover walkthrough | Popover displays with refreshed data |
| Open control center | Control center walkthrough starts automatically |
| Complete CC walkthrough | Control center displays normally |

**Pass criteria:** All steps complete without errors. Walkthrough content visible and not truncated.

### 1.2 Refresh

| Step | Expected Outcome |
|------|------------------|
| Click refresh (or auto-refresh on launch) | Spinner appears; status item shows running indicator |
| Refresh completes | Spinner disappears; installed/outdated counts update |
| Partial failure (manager unavailable) | Failed manager shows degraded health; others succeed |

**Pass criteria:** Refresh completes within 60s for detected managers. Partial failure does not block other managers.

### 1.3 Search

| Step | Expected Outcome |
|------|------------------|
| Type query in search field | Local results appear instantly |
| Wait for remote search debounce | Remote results appear; merged with local, no duplicates |
| Clear search | Results reset to full installed list |
| Cancel mid-search | Search spinner stops; partial results remain |

**Pass criteria:** Local results appear within 200ms. Remote results appear within 10s. No duplicate entries.

### 1.4 Install

| Step | Expected Outcome |
|------|------------------|
| Find available package via search | Package row shows "Install" action |
| Click Install | Task created; status transitions queued → running → completed |
| Package appears in installed list | Installed count increments |

**Pass criteria:** Install completes successfully. Package appears in list after refresh.

### 1.5 Upgrade (Single Package)

| Step | Expected Outcome |
|------|------------------|
| Outdated package shows upgrade action | Upgrade button visible |
| Click Upgrade | Task created; status transitions queued → running → completed |
| Package version updates | Outdated count decrements |

**Pass criteria:** Upgrade completes. Package no longer appears in outdated list.

### 1.6 Upgrade All

| Step | Expected Outcome |
|------|------------------|
| Click Upgrade All (from popover banner or CC) | Confirmation shown with summary counts |
| Confirm upgrade | Tasks created for each outdated manager; authority ordering respected |
| Safe mode enabled + softwareupdate outdated | Software update blocked; other managers proceed |

**Pass criteria:** Authority ordering correct (authoritative → standard → guarded). Safe mode enforcement works.

### 1.7 Pin / Unpin

| Step | Expected Outcome |
|------|------------------|
| Pin a Homebrew formula | Pin badge appears; package excluded from Upgrade All |
| Unpin the formula | Pin badge removed; package included in Upgrade All |

**Pass criteria:** Pin state persists across app restart. Pinned packages excluded from upgrade-all.

---

## 2. Error Scenarios

### 2.1 Service Crash and Reconnection

| Step | Expected Outcome |
|------|------------------|
| Kill HelmService process | UI shows disconnected state |
| Wait for reconnection | Exponential backoff (2s, 4s, 8s...); reconnection succeeds |
| UI recovers | Data refreshes; no stale state displayed |

**Pass criteria:** Reconnection succeeds within 60s. No crash or hang in UI. Backoff delays visible in Console logs.

### 2.2 Manager Failure

| Step | Expected Outcome |
|------|------------------|
| Rename a manager binary (e.g., `brew`) | Detection reports not installed |
| Trigger refresh | Other managers refresh successfully; failed manager shows degraded health |
| Restore binary | Next refresh detects manager; health returns to healthy |

**Pass criteria:** Failure isolated to affected manager. Error attribution includes correct manager ID.

### 2.3 Network Unavailable

| Step | Expected Outcome |
|------|------------------|
| Disable network | Remote search returns no results (local search still works) |
| Trigger refresh | Managers using network (e.g., remote search) fail gracefully |

**Pass criteria:** No crash. Local operations continue. Error messages reference network.

---

## 3. Accessibility Scenarios

### 3.1 VoiceOver-Only Navigation

| Step | Expected Outcome |
|------|------------------|
| Enable VoiceOver | All interactive elements have accessibility labels |
| Navigate popover | Status badge, package rows, task rows, footer actions announced |
| Trigger refresh | VoiceOver announces "Refreshing" and completion |
| Cancel a task | VoiceOver announces cancellation |

**Pass criteria:** Complete a refresh + upgrade cycle using only VoiceOver. All state changes announced.

### 3.2 Keyboard-Only Navigation

| Step | Expected Outcome |
|------|------------------|
| Cmd+F | Search field focuses in control center |
| Cmd+W | Control center window closes |
| Escape | Overlays/popovers dismiss |
| Tab | Known limitation: Tab does not traverse custom views (macOS SwiftUI `.focusable()` limitation) |

**Pass criteria:** Cmd+F, Cmd+W, Escape work correctly. Tab limitation documented as known.

### 3.3 Reduced Motion

| Step | Expected Outcome |
|------|------------------|
| Enable Reduce Motion in System Settings | Overlay transitions use instant/no-animation fallback |
| Open walkthrough | Spotlight transitions are immediate, no slide/fade |

**Pass criteria:** No animated transitions when Reduce Motion is enabled.

---

## 4. Locale Scenarios

### 4.1 Spanish (es) — Full Flow

| Step | Expected Outcome |
|------|------------------|
| Set locale to es | All UI text renders in Spanish |
| Complete first launch + refresh + upgrade | All labels, buttons, status text in Spanish |
| No truncation in any surface | Text fits within UI constraints |

### 4.2 Japanese (ja) — Full Flow

| Step | Expected Outcome |
|------|------------------|
| Set locale to ja | All UI text renders in Japanese |
| Complete first launch + refresh + upgrade | CJK characters render correctly |
| No truncation in any surface | Text fits within UI constraints |

### 4.3 German (de) — Expansion Check

| Step | Expected Outcome |
|------|------------------|
| Set locale to de | German text (typically longest expansion) fits |
| Check all buttons, labels, status text | No truncation or overflow |

### 4.4 Remaining Locales (fr, pt-BR)

| Step | Expected Outcome |
|------|------------------|
| Set locale to fr, then pt-BR | All UI text renders correctly |
| Spot check core surfaces | No truncation or missing keys |

---

## 5. Acceptance Criteria

| Category | Requirement | Status |
|----------|-------------|--------|
| Core scenarios | 100% pass in en | |
| Core scenarios | 100% pass in at least 2 non-English locales | |
| Error scenarios | All 3 scenarios pass | |
| Accessibility | VoiceOver scenario passes | |
| Accessibility | Keyboard shortcuts (Cmd+F, Cmd+W, Escape) pass | |
| Accessibility | Reduced motion scenario passes | |
| Locale | No truncation in de (longest expansion) | |
| Locale | CJK rendering correct in ja | |

### Pass/Fail Rules

- **Release gate**: All acceptance criteria must pass, or have a documented workaround with a tracking issue.
- **Known limitations** (not blocking): Tab traversal (macOS SwiftUI limitation, documented).
- **Regression**: Any scenario that passed in a previous beta and now fails blocks release.

---

## 6. Sign-Off

| Reviewer | Date | Status |
|----------|------|--------|
| | | |
