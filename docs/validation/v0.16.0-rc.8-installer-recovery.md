# v0.16.0-rc.8 Installer/Updater Interruption & Recovery Validation

Date: 2026-02-20  
Branch: `feat/v0.16.0-kickoff`  
Target tag: `v0.16.0-rc.8`

## Objective

Validate that direct-channel DMG release automation and Sparkle feed publishing recover cleanly from expected interruption paths, and that policy safeguards keep updates deterministic.

## Scenario Matrix

1. `R1` Build-and-sign release workflow runs to completion from a fresh tag.
Expected: signed DMGs + generated appcast are uploaded to release assets.

2. `R2` Appcast policy guard rejects invalid feed constructs.
Expected: workflow fails if appcast contains delta payloads or non-HTTPS/non-DMG enclosure URLs.

3. `R3` Appcast publication handles protected `main`.
Expected: workflow publishes directly to `main` when allowed; otherwise opens a fallback PR with feed update.

4. `R4` Workflow rerun on same tag is idempotent.
Expected: DMG/appcast upload uses `--clobber`, appcast publish updates same target path without duplicate/ambiguous state.

5. `R5` Runtime update guard on ineligible install sources.
Expected: Sparkle checks stay blocked for package-manager installs and translocated/DMG-mounted execution paths.

## Results

- `R1`: Pass — release workflow produced and uploaded signed DMG + appcast assets for `v0.16.0-rc.8`.
- `R2`: Pass — appcast policy enforcement step passed in release workflow; local negative test confirmed rejection of invalid delta payload metadata.
- `R3`: Pass — fallback PR path was exercised after direct push to `main` was rejected by repository rules.
- `R4`: Pass — rerun behavior remained idempotent for release assets; publication path stayed deterministic via the same appcast target and fallback branch naming.
- `R5`: Pending manual QA on local host.

## Evidence

- Workflow run URL(s):
  - `https://github.com/jasoncavinder/Helm/actions/runs/22244487512` (includes reruns; release assets uploaded before publish fallback PR creation step)
- Release tag URL: `https://github.com/jasoncavinder/Helm/releases/tag/v0.16.0-rc.8`
- Appcast feed URL: `https://helmapp.dev/updates/appcast.xml`
- Fallback PR URL (direct push blocked path): `https://github.com/jasoncavinder/Helm/pull/75` (merged)
- Local negative policy test (R2):
  - `apps/macos-ui/scripts/verify_sparkle_appcast_policy.sh /tmp/invalid_appcast.xml` → exit code `1` with delta-policy rejection

## Notes

- `R5` includes runtime/manual verification and must be completed on a local QA host after artifact download.
- Release workflow currently cannot auto-create the fallback PR with `GITHUB_TOKEN` in this repository (`createPullRequest` denied), so fallback publication requires a manual PR open/merge unless repo-level Actions PR creation is enabled.
